## Multi-component Application.

Recall, we demonstrated a mukti-container application during the Docker part of this module. That application's architecture is illustrated below for your convenience - see [here][lab] for the Docker lab you completed previously.

![][dockerl]

We will deploy this application to Kubernetes as a set of deployments and services. Both application components (the Mongo database server and the Express Web App) will be deployed as pods using deployment manifests, and each will have a matching service.

![][arch]

In a VS Code terminal, log in to the ocp-setu.waltoninstitute cluster:
~~~
$  oc login https://api.ocp-setu.waltoninstitute.ie:6443 --username=your_username      (Substitute your username)
~~~

## Setup.

A pod needs privileges to allow it to pull specific images from Docker Hub, for example, the MongoDB server. In Kubernetes, a pod's privileges are determined by the __ServiceAccount__ assigned to it. A ServiceAccount has policies attached to it, and these grant privileges to the pod. Your user account on the cluster has a number of service accounts attached to allow you create resources (pods, services, etc)
Check this with:
~~~
 $ oc get sa -n [your-namespace]
~~~
The important one is `bsc-ssd-y4-2025-sa`, which is specifically for this module.

Create a new folder (anywher) called `multi-component-app` and import it into VS Code. Add a `.gitignore` file:
~~~
*.log
~~~
Create a local Git repository in the folder, and make the first commit to the repo.

[arch]: ./img/arch.png
[depl]: ./img/depl.png
[docker]: ./img/docker.png
