## DevOps Practice Exam - 2025.

__Important__:
1. You must use your clone of the `devops-exam-2025` repository for this exam.
1. You must adhere to the git commit requirements stated in the exam question. Failure to do so will mean your submission is void. 

__Duration:__ 90 minutes.

### Question.

Import your `devops-exam-2025` folder into VS Code.

A containerised application consists of three Docker images that are publicly available on Docker Hub:
1. A MongoDB database that stores information about the solar system, i.e. planets.
1. A Redis caching server to store records recently accessed from the database
1. A Web API to read data from the database or caching server.

The Docker CLI commands to set up this application locally are (you do not need to run these commands locally):
~~~bash
$ docker network create app-network
 
$ docker run -d --net app-network \
    --name my-mongoDB  \
    -p 27017:27017 \
    -e MONGODB_ROOT_USER=admin \
    -e MONGODB_ROOT_PASSWORD=secret \
    bitnami/mongodb:latest

$ docker run -d --net app-network \
    --name my-redis  \
    -p 6379:6379 \
    redis:alpine

$  docker run -d --net app-network \
    --name rust-api  \
    -p 9000:9000 \
    -e MONGODB_URI=mongodb://admin:secret@my-mongoDB:27017/ \
    -e REDIS_URI=redis://my-redis \
    -e ENABLE_WRITING_HANDLERS=false \
    -e RUST_LOG=debug \
    doconnor/rust-api:1.0-amd64
~~~

The Redis caching server listens on port 6379.

The web API Docker image (doconnor/rust-api:1.0-amd64) listens on port 9000. It needs four environment variables:
 
+ MONGODB_URI - Set this to the connection string of the MongoDB database,
+ REDIS_URI - Set this to the connection string of the Redis server. The format is: protocol://redis-server-domain-name, where the protocol is redis.
+ The other two variables are standard: ENABLE_WRITING_HANDLERS and RUST_LOG.

__You are required__ to deploy this application to the OCP Kubernetes cluster as a set of pods and services. Test your deployment by enabling port forwarding on the Web API pod/service, and in the browser navigate to http://localhost:9000/planets. The response should display the set of planet data you used to seed the database. 

![][response]

Notes:
1. You must git commit after creating each manifest file (YAML), and every time you redeploy these files. 
1. Use [this][data] JSON file to seed the MongoDB database. The Mongo Compass tool can be used to connect to the pod or service running the MongoDB container.  

[response]: ./img/response.png
[data]: ./img//data.zip