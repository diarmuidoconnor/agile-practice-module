## Interacting with a Container.

We could not meaningfully interact with the containers in the previous section because we are unfamiliar with the Redis application. A more straightforward image to understand would be NGINX, a web server for static websites. Note that NGINX accepts HTTP requests on port 80. Type the following commands:

~~~bash
$ docker pull nginx:1.15.8-alpine (The version/tag used (1.15.8-alpine) is arbitrary)
$ docker run -d -p 8080:80 --name nginx-server  nginx:1.15.8-alpine
~~~
The -p option maps a port of the host computer to a container port (-p hostPort:imagePort). Port mapping allows us connect to the application inside the container. We choose host port 8080 arbitrarily. 

To prove it works, in a web browser, navigate to http://localhost:8080/. You should see the default NGINX home page. One way to edit this page is by opening an interactive terminal shell inside the container as follows:
~~~bash
$ docker exec -it  nginx-server  /bin/sh
~~~
The response shows a command prompt from __inside the container__. You can type any Linux command at this prompt. Type the following command sequence:
~~~bash
/ # ls
/ # env
/ # pwd
/ # cd /usr/share/nginx/html.   (NGINX default home directory)
/ # ls
/ # cat index.html     (The NGINX default home page)
/ # echo "<b>I added a new line ....</b>" >> index.html 
~~~
The last command above adds a new line to the NGINX home page. Refresh the page in the browser to confirm the presence of the new line. 

Type *exit* to terminate the container shell and return to the host prompt.

### Volume Mount.

The above approach to developing a website hosted by NGINX inside a container is inefficient and slow. A (marginally) better way is to bind or __mount a volume__ to the container at __run-time__. This means linking an external volume (host folder) to a path of the container's filesystem - the NGINX default website path in our case. First, create a folder (anywhere on your host computer) and inside it, create the file `index.html` with the following content:
~~~html
<!DOCTYPE html>
<html>
<head>
<title>Profile</title>
<style>
    body {
        width: 35em;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
 }
</style>
</head>
<body>
<h1>My Profile</h1>
<h2>Name: Joe Bloggs</h2>
<p>Professional interests: Web Development, Cloud App Development, Data Science.</p>
<p>Technologies: Docker, React, Python.</p>

<a href="http://nginx.com/">nginx.com</a>.</p>

<p><em>Thank you for using nginx.</em></p>
</body>
</html>
~~~
Now type the following command:
~~~bash
$ docker stop nginx-server
$ docker rm nginx-server
$ docker run -d -p 8081:80 -v /path/to/new/folder:/usr/share/nginx/html    --name nginx-server  nginx:1.15.8-alpine
~~~
Where */path/to/new/folder* is the pathname of the host folder you created (absolute or relative path). The -v (volume) option maps a folder on the host computer to a folder inside the container. In the browser, navigate to http://localhost:8081/ and notice the web page from the host folder is displayed. Edit the page on your host and then refresh the page in the browser. 

### Exercise.

The website hosted by NGINX inside the container can be as elaborate as you wish, e.g. CSS, JavaScript, etc. It could even be a React web app. Clone the following [repository][react] to your computer:
~~~bash
$ git clone https://github.com/diarmuidoconnor/docker-react-vite
~~~
Import the `docker-react-vite` folder into VS Code, open an interactive terminal in the editor, type the commands:
~~~bash
$ npm install
$ npm run dev
~~~
The last command above starts a development web server to host the React app on your host computer. Click on the localhost link shown in the terminal response to see the app render in your browser. It's a simple ToDo app developed with the React framework and the Vite build tool. Stop the server with cntl-c.

We can build a static version of the React app as well with the command:
~~~bash
$ npm run build
~~~
The website version of the app is in a new folder called `dist`.

__You are required__ to start a new Docker container that satisfies the following requiremets:

+ It's based on the same NGINX Docker image we used earlier. 
+ The new container's name is 'nginx-react' and its port 80 is mapped to the host port 3000.
+ Use Docker's volume mount feature to allow the NGINX container host the static version of the ToDo app. 

To prove your container works, open a browser tab at http://localhost:3000.

## Cleanup.

Delete all the containers on your host:
~~~bash
$ docker rm -vf $(docker ps -aq)
~~~


[react]: https://github.com/nirdhum/todo-app