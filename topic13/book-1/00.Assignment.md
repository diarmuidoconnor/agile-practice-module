## DevOps Practice - Assignment Specification.

__IMPORTANT:__ Please read the following instructions before commencing this assignment, as it may significantly impact your grade:

+ Read the entire specification before commencing development, and clarify any aspects you do not understand.
+ Your repoâ€™s Git log must have a clear, understandable and coherent history of the work on this assignment. The commit message must summarise the work performed (the task you were working on) at each stage.

__Objective:__ Demonstrate your knowledge of CI/CD practice by creating a pipeline for a Web App using the GitLab CI platform. 

__Completion date:__ 11/11/2025.

__Weighting:__ 45%.

__Context:__ Download [this archive][start]. It's a ToDo app developed with the React framework. 

__Deliverables:__

Submit to [this Moodle box][moodle] a text file (assignment2.txt) containing:
   + The URL of your GitLab repository. 
   + The URL of the YouTube video demonstrating the execution of your pipeline. 
   
Notes:
+ The repo README is the documentation of the work you have carried out and must be complete and accurate. A template will be provided later.

### CI/CD pipeline.

__You are required__ to create a CI/CD pipeline for the ToDo app that includes the following stages:
+ Build
+ Package
+ Unit Test
+ Staging
+ Deployment

The Build stage creates a static, distributable form of the app to ensure it is ready for packaging. 

The package stage dockerizes and publishes the app to your Docker Hub account. 

The Unit Test stage performs a basic test using curl to ensure the app's main page loads correctly. For maximum efficency, use the most suitable job options to achieve this task. 

The Staging stage deploys the app to a pre-configured AWS EC2 host and uses the host's port 8089 for public access. 

The Deployment stage deploys the app to the same EC2 host as staging, but uses the host's port 80 for public access - this is the production app. This stage must distinguish between continuous delivery and continuous deployment:
+Continuous Delivery - The Deployment stage should only occur on a commit to the repository's 'develop' branch, and is manually triggered.
+Continuous Deployment - The Deployment stage should only happen on a commit to the repository 'main' branch, and the commit is tagged - its execution is automatic.

[Note: Typically, the develop branch is merged into the main branch when a task is completed and is ready for release into production, e.g., a new feature or bug fix. Also, commit tags are only used on main branch commits.]

The Dockerfile included with the app source code uses a development-standard web server for hosting - [serve][serve]. A production-standard server, e.g. NGINX, would be more appropriate. A multi-stage Docker build would facilitate this improvement. 
 
### Grading Spectrum.

__Good (40-55%):__ Build, Package and Staging stages completed.

__Excellent (55-75%):__ Unit Test and Deployment (Continuous Deployment only) .

__Outstanding (75-90%):__ Multi-stage Build and complete CD (Continuous Delivery and Continuous Deployment).

__Independent Learning (90%+):__ Deployment of the production app to the [Vercel][vercel] platform (instead of the EC2 platform)

__Notes.__

a) The command sequence to build a static form of a React app is:
~~~bash
$ npm install
$ npm run build
~~~
To test the app on localhost, use a basic web server, e.g. [serve][serve], as follows:
~~~
$ npx serve -s ./dist  -l 3000
~~~
And in a browser, navigate to http://localhost:3000/.

b) The [alpine/cur][acurl] image on Docker Hub includes the curl utility,  

c) The services option in a job can be assigned any image name, including one from your Docker Hub account. GitLab automatically does port mapping of these containers, to enable access from the job's script.



d) Typically, development work is performed on a branch eminating from the main branch, and when completed, it is merged into the main branch. The command sequence is as follows:
~~~bash
$ git checkout develop
. . . do development work  .. . . 
$ git add -A
$ git commit -m ". . . work performed . . . "
$ git push origin develop       (Trigger pipeline)
$ git checkout maim
$ git merge develop
$ git push origin main            (Trigger pipeline)
$ git checkout develop
. . . do development work . .  . . 
~~~

[acurl]: https://hub.docker.com/r/alpine/curl
[serve]: https://www.npmjs.com/package/serve
[vercel]: https://vercel.com/
[start]: ./img/start.zip
[moodle]: https://moodle.setu.ie/mod/assign/view.php?id=4612468